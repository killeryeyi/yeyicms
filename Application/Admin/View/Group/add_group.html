<include file="Public:header"/>
<body>

<div id="wrapper">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <include file="Public:top"/>
        <include file="Public:menu"/>
    </nav>

    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">{$name}</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        列表
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        
						<div class="col-lg-6">
                                    <form role="form" method="post" action="{:U('group/add_group')}">
                                        <div class="form-group">
                                            <label>角色名称</label>
                                            <input class="form-control" type="text" name="name" value="{$info.name}">
                                        </div>
                                        <div class="form-group">
                                            <label>角色授权</label>
                                             <div class="controls">
													<ul style="border: 1px solid #e5e5e5;padding: 5px;margin-bottom: 10px;border-radius:5px">
														<div style="border-bottom: 1px dashed #e5e5e5;">
															<label><input type="checkbox" class="all"/>全选</label>
														</div>
													</ul>
													<volist name="rule" id="vo">
													<ul style="border: 1px solid #e5e5e5;padding: 5px;margin-bottom: 10px;border-radius:5px">
														<div style="border-bottom: 1px dashed #e5e5e5;">
															<label><input type="checkbox" name="mid[]" value="{$vo.id}" class="in st_{$vo.id}"/> {$vo.title}</label>
														</div>

														<volist name="vo['second']" id="v">
														<label style="margin-left: 15px"><input type="checkbox" name="mid[]" value="{$v.id}" str="{$v.pid}" class="int str_{$v.pid}"/> {$v.title}</label>
														</volist>
													</ul>
													</volist>
											</div>
                                        </div>
                                       
                                        <input type="hidden" name="id" value="{$info.id}">
                                        <button type="submit" class="btn btn-default">提交</button>
                                        <button type="reset" class="btn btn-default">重置</button>
                                    </form>
                                </div>
                        
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->

            </div>
            <!-- /.col-lg-12 -->

        </div>
        <!-- /.row -->

    </div>
    <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->

<include file="Public:footer"/>
<script type="text/javascript">
$('.in').click(function(){ 
	var id=$(this).val();
    $(".str_"+id).prop("checked", this.checked);
});
$(".int").click(function() {
	var pid=$(this).attr("str");
    var $subs = $(".str_"+pid);
    $(".st_"+pid).prop("checked" , $subs.length == $subs.filter(":checked").length ? true :false);
  });
$(".all").click(function(){

	$(".int").prop("checked", this.checked);
	$(".in").prop("checked", this.checked);
})
</script>
</body>

</html>
